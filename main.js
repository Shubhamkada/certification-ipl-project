var defaultTeams = [
    {
      bgColor: "linear-gradient(180deg, #fcca06 0%, #f25c19 100%)",
      borderColor: "#f25c19",
      image:
        "https://bcciplayerimages.s3.ap-south-1.amazonaws.com/ipl/CSK/logos/Roundbig/CSKroundbig.png",
      name: "Chennai Super Kings",
      players: [
        {
          name: "MS Dhoni",
          age: 30,
          state: "tamilnadu",
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/1.png",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
        {
          name: "Devon Conway",
          age: 30,
          state: "tamilnadu",
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20572.png",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
        {
          name: "Ruturaj Gaikwad",
          age: 30,
          state: "tamilnadu",
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/5443.png",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
        {
          name: "Subhranshu Senapati",
          age: 30,
          state: "tamilnadu",
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20574.png",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
        {
          name: "Mitchell Santner",
          age: 30,
          state: "tamilnadu",
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/1903.png",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
        {
          name: "Rajvardhan Hangargekar",
          age: 30,
          state: "tamilnadu",
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20571.png",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
        {
          name: "Maheesh Theekshana",
          age: 30,
          state: "tamilnadu",
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20570.png",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
        {
          name: "Prashant Solanki",
          age: 30,
          state: "tamilnadu",
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20576.png",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
        {
          name: "Matheesha Pathirana",
          age: 30,
          state: "tamilnadu",
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20627.png",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
        {
          name: "Shaik Rasheed",
          age: 30,
          state: "tamilnadu",
          image: "https://www.iplt20.com/assets/images/default-headshot.png",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
      ],
      playersCount: 10,
      topBatsMan: "MS Dhoni",
      topBowler: "Shaik Rasheed",
      championshipCount: "2",
    },
    {
      bgColor: "linear-gradient(180deg, #0078BC 0%, #17479E 100%)",
      borderColor: "#17479E",
      image:
        "https://bcciplayerimages.s3.ap-south-1.amazonaws.com/ipl/DC/Logos/Roundbig/DCroundbig.png",
      name: "Delhi Capitals",
      players: [
        {
          age: 30,
          state: "tamilnadu",
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/2972.png",
          name: "Rishabh Pant",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
        {
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/6870.png",
          name: "Lalit Yadav",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
        {
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/2964.png",
          name: "Khaleel Ahmed",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
        {
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/170.png",
          name: "David Warner",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
        {
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/3333.png",
          name: "Rovman Powell",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
        {
          image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/221.png",
          name: "Mitchell Marsh",
          description: "All rounder",
          price: "6.50 Cr",
          playingStatus: "Yes",
          role: "All rounder",
        },
      ],
      playersCount: 6,
      topBatsMan: "Khaleel Ahmed",
      topBowler: "Mitchell Marsh",
      championshipCount: "2",
    },
    {
      bgColor: "linear-gradient(180deg, #1C1C1C 0%, #0B4973 100%)",
      borderColor: "#0B4973",
      image:
        "https://bcciplayerimages.s3.ap-south-1.amazonaws.com/ipl/GT/Logos/Roundbig/GTroundbig.png",
      name: "Gujarat Titans",
      players: [
          {
              name: "David Miller",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/187.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Vijay Shankar",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/1083.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Yash Dayal",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20591.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Abhinav Manohar",
              age: 30,
              state: "Kerala",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20589.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Rahul Tewatia",
              age: 30,
              state: "Karnataka",
              image: "	https://assets.iplt20.com/ipl/IPLHeadshot2022/1749.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Sai Kishore",
              age: 30,
              state: "Karnataka",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/7123.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
      ],
      playersCount: 6,
      topBatsMan: "Sai Kishore",
      topBowler: "Rahul Tewatia",
      championshipCount: "2",
    },
    {
      bgColor: "linear-gradient(180deg, #3B215D 0%, #552792 100%)",
      borderColor: "#552792",
      image:
        "https://bcciplayerimages.s3.ap-south-1.amazonaws.com/ipl/KKR/Logos/Roundbig/KKRroundbig.png",
      name: "Kolkata Knight Riders",
      players: [
          {
              name: "Nitish Rana",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/2738.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Umesh Yadav",
              age: 30,
              state: "Gujarat",
              image: "	https://assets.iplt20.com/ipl/IPLHeadshot2022/59.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Sunil Narine",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/203.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Rinku Singh",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/3830.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Anukul Roy",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/3774.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Tim Southee",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/307.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
  
  
  
      ],
      playersCount: 6,
      topBatsMan: "Tim Southee",
      topBowler: "Anukul Roy",
      championshipCount: "2",
    },
    {
      bgColor: "linear-gradient(180deg, #A72056 0%, #FFCC00 100%)",
      borderColor: "#FFCC00",
      image:
        "https://bcciplayerimages.s3.ap-south-1.amazonaws.com/ipl/LSG/Logos/Roundbig/LSGroundbig.png",
      name: "Lucknow Super Giants",
      players: [
          {
              name: "KL Rahul",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/1125.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Karan Sharma",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20588.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Mayank Yadav",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20585.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Ravi Bishnoi",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/19351.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Mohsin Khan",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/4952.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
      ],
      playersCount: 5,
      topBatsMan: "Mohsin Khan",
      topBowler: "Ravi Bishnoi",
      championshipCount: "2",
    },
    {
      bgColor: "linear-gradient(180deg, #006CB7 0%, #003B7A 100%)",
      borderColor: "#003B7A",
      image:
        "https://bcciplayerimages.s3.ap-south-1.amazonaws.com/ipl/MI/Logos/Roundbig/MIroundbig.png",
      name: "Mumbai Indians",
      players: [
          {
              name: "Dewald Brevis",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20593.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Mohd. Arshad Khan",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20599.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Kumar Kartikeya Singh",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20629.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Akash Madhwal",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20681.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Suryakumar Yadav",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/108.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "N. Tilak Varma",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20594.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
      ],
      playersCount: 6,
      topBatsMan: "Suryakumar Yadav",
      topBowler: "Akash Madhwal",
      championshipCount: "2",
    },
    {
      bgColor: "linear-gradient(180deg, #D71920 0%, #84171B 100%)",
      borderColor: "#84171B",
      image:
        "https://bcciplayerimages.s3.ap-south-1.amazonaws.com/ipl/PBKS/Logos/Roundbig/PBKSroundbig.png",
      name: "Punjab Kings",
      players: [
          {
              name: "Bhanuka Rajapaksa",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20604.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Liam Livingstone",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/3644.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Baltej Dhanda",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20607.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Rahul Chahar",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/3763.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Bhanuka Rajapaksa",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20604.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Harpreet Brar",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/5441.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
      ],
      playersCount: 6,
      topBatsMan: "Harpreet Brar",
      topBowler: "Bhanuka Rajapaksa",
      championshipCount: "2",
    },
    {
      bgColor: "linear-gradient(180deg, #EA1A85 0%, #001D48 100%)",
      borderColor: "#001D48",
      image:
        "https://bcciplayerimages.s3.ap-south-1.amazonaws.com/ipl/RR/Logos/Roundbig/RRroundbig.png",
      name: "Rajasthan Royals",
      players: [
  
          {
              name: "Sanju Samson",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/258.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "KC Cariappa",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/2743.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Navdeep Saini",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/3824.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Yuzvendra Chahal",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/111.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Devdutt Padikkal",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/5430.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
            {
              name: "Dhruv Jurel",
              age: 30,
              state: "Gujarat",
              image: "https://assets.iplt20.com/ipl/IPLHeadshot2022/20620.png",
              description: "All rounder",
              price: "6 Cr",
              playingStatus: "Yes",
              role: "All rounder",
            },
      ],
      playersCount: 6,
      topBatsMan: "Dhruv Jurel",
      topBowler: "Devdutt Padikkal",
      championshipCount: "2",
    },
  ];
  
  const params = new URLSearchParams(location.search);
  if (localStorage.getItem("teams") == null) {
    localStorage.setItem("teams", JSON.stringify(defaultTeams));
  }
  
  document.getElementById("search-box").addEventListener("focus", function () {
    let rootList = document.getElementById("myUL");
    rootList.innerHTML = "";
    const teams = JSON.parse(localStorage.getItem("teams"));
    const li = document.createElement("li");
    li.addEventListener("click", function (args) {
      document.getElementById("search-box").value = "";
      searchTeamCards();
      rootList.style.display = "none";
    });
    const ref = document.createElement("a");
    ref.innerHTML = "All";
    li.appendChild(ref);
    rootList.appendChild(li);
  
    teams.forEach((team) => {
      if (team.name != null && team.name.trim() != "") {
        const li = document.createElement("li");
        li.addEventListener("click", function (args) {
          document.getElementById("search-box").value = args.target.innerHTML;
          rootList.style.display = "none";
        });
        const ref = document.createElement("a");
        ref.innerHTML = team.name;
        li.appendChild(ref);
        rootList.appendChild(li);
      }
    });
  
    rootList.style.display = "block";
  });
  
  document.getElementById("search-box").addEventListener("focusout", function () {
    //   document.getElementById("myUL").style.display = "none";
  });
  
  function loadTeams() {
    const filterKey = localStorage.getItem("searchText");
    let availableTeams = JSON.parse(localStorage.getItem("teams"));
    const teams =
      filterKey != null && filterKey != ""
        ? availableTeams.filter(
            (v) => v.name.toUpperCase().indexOf(filterKey) > -1
          )
        : availableTeams;
    const cardRoot = document.getElementById("main-section");
    cardRoot.innerHTML = "";
  
    teams.forEach((team) => {
      const liItem = document.createElement("div");
      liItem.addEventListener("click", function (args) {
        localStorage.setItem(
          "selectedTeam",
          args.target.getAttribute("team-data")
        );
        window.location.href = "./team.html";
      });
  
      liItem.classList.add("card");
      liItem.style.border = `2px solid ${team.borderColor}`;
      liItem.style.background = team.bgColor;
      const image = document.createElement("img");
      image.setAttribute("src", team.image);
      image.style.width = "60%";
      const cardItem = document.createElement("div");
      cardItem.classList.add("card-item");
      const teamName = document.createElement("h1");
      teamName.innerHTML = team.name;
  
      image.setAttribute("team-data", team.name);
      liItem.setAttribute("team-data", team.name);
      cardItem.setAttribute("team-data", team.name);
      cardItem.appendChild(image);
      cardItem.appendChild(teamName);
      liItem.appendChild(cardItem);
      cardRoot.appendChild(liItem);
    });
  }
  
  function openCreateTeam() {
    this.closeForm("create-team-player");
    let = allPlayers = JSON.parse(localStorage.getItem("players"));
    if (allPlayers != null && allPlayers.length > 0) {
      const rootPLayersEl = document.getElementById("teamPlayers");
      rootPLayersEl.innerHTML = "";
      allPlayers.forEach((player) => {
        const opt = document.createElement("option");
        opt.innerHTML = player.name;
        rootPLayersEl.appendChild(opt);
      });
    }
    document.getElementById("create-team").style.display = "flex";
  }
  
  function openCreateTeamPlayer() {
    this.closeForm("create-team");
    document.getElementById("create-team-player").style.display = "flex";
  }
  
  function searchTeams() {
    input = document.getElementById("search-box");
    filterKey = input.value.toUpperCase();
    ul = document.getElementById("myUL");
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
      a = li[i].getElementsByTagName("a")[0];
      txtValue = a.textContent || a.innerText;
      if (txtValue.toUpperCase().indexOf(filterKey) > -1) {
        li[i].style.display = "";
      } else {
        li[i].style.display = "none";
      }
    }
  }
  
  function searchTeamCards() {
    input = document.getElementById("search-box");
    filterKey = input.value.toUpperCase();
    localStorage.setItem("searchText", filterKey);
    if (!location.href.includes("index.html")) {
      location.href = "./index.html?customLoad=true";
    } else {
      loadTeams();
    }
  }
  
  function addTeam() {
    let teams = JSON.parse(localStorage.getItem("teams"));
    const teamName = document.getElementById("teamName").value;
    const existingTeam = teams.find((v) => v.name == teamName);
    if (existingTeam != null) {
      alert("Team with same alredy exist!");
      return;
    }
    let allPlayers = JSON.parse(localStorage.getItem("players"));
    const bgColor = document.getElementById("bgColor").value;
    const borderColor = document.getElementById("borderColor").value;
    const imageLink = document.getElementById("imgLink").value;
    const playersCount = document.getElementById("playerCount").value;
    const topBatsMan = document.getElementById("topBatsMan").value;
    const topBowler = document.getElementById("topBowler").value;
    const championshipCount = document.getElementById("championshipCount").value;
    var checked = document.querySelectorAll("#teamPlayers :checked");
    const players = [...checked].map((option) => option.value);
    const filteredPLayers = allPlayers.filter((v) => players.includes(v.name));
  
    teams.push({
      bgColor,
      name: teamName,
      image: imageLink,
      borderColor: borderColor,
      players: filteredPLayers,
      playersCount,
      topBatsMan,
      topBowler,
      championshipCount,
    });
    localStorage.setItem("teams", JSON.stringify(teams));
    this.closeForm("create-team");
    loadTeams();
  }
  
  function addPlayer() {
    let players = JSON.parse(localStorage.getItem("players"));
    const playerName = document.getElementById("playerName").value;
    const existingPlayer = players.find((b) => b.name == playerName);
    if (existingPlayer != null) {
      alert("Player already exists with same name !");
      return;
    }
    const playerAge = document.getElementById("inputAge").value;
    const playerState = document.getElementById("playerState").value;
    const playerImage = document.getElementById("playerImage").value;
    const playerPrice = document.getElementById("playerPrice").value;
    const playerDescription = document.getElementById("playerDescription").value;
    const playerRole = document.getElementById("playerRole").value;
  
    const playerStatus = document.querySelector(
      'input[name="playerStatus"]:checked'
    ).value;
  
    players.push({
      name: playerName,
      age: playerAge,
      state: playerState,
      image: playerImage,
      description: playerDescription,
      price: playerPrice,
      playingStatus: playerStatus,
      role: playerRole,
    });
    localStorage.setItem("players", JSON.stringify(players));
    this.closeForm("create-team-player");
  }
  
  function closeForm(id) {
    document.getElementById(id).style.display = "none";
  }
  
  function loadPlayers() {
    const existingPlayers = JSON.parse(localStorage.getItem("players"));
    if (existingPlayers == null || existingPlayers.length == 0) {
      let availableTeams = JSON.parse(localStorage.getItem("teams"));
      let = allPlayers = [];
      availableTeams.forEach((team) => {
        if (team.players != null && team.players.length > 0) {
          allPlayers = [...allPlayers, ...team.players];
        }
      });
      localStorage.setItem("players", JSON.stringify(allPlayers));
    }
  }
  
  if (location.href.includes("index.html")) {
    loadTeams();
    loadPlayers();
  }